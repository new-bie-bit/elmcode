#!/bin/bash
set -e

# å¯åŠ¨ cloud-eureka-server å¾®æœåŠ¡
echo "ğŸ”¹ Starting cloud-eureka-server..."
java -jar /workspaces/elmcode/elmcloud/eureka-server13000/target/*.jar &
java -jar /workspaces/elmcode/elmcloud/eureka-server13001/target/*.jar &

# å¯åŠ¨ cloud-config-server å¾®æœåŠ¡
echo "ğŸ”¹ Starting config-server..."
java -jar /workspaces/elmcode/elmcloud/config-server15000/target/*.jar &
java -jar /workspaces/elmcode/elmcloud/config-server15001/target/*.jar &

# å¯åŠ¨ cloud-provider-server å¾®æœåŠ¡
echo "ğŸ”¹ Starting cloud-provider-server..."
java -jar /workspaces/elmcode/elmcloud/business-provider-server11000/target/*.jar &
java -jar /workspaces/elmcode/elmcloud/business-provider-server11001/target/*.jar &

# å¯åŠ¨ cloud-consumer-server å¾®æœåŠ¡
echo "ğŸ”¹ Starting cloud-consumer-server..."
java -jar /workspaces/elmcode/elmcloud/business-consumer-server12000/target/*.jar &
java -jar /workspaces/elmcode/elmcloud/business-consumer-server12001/target/*.jar &

# å¯åŠ¨ cloud-gateway å¾®æœåŠ¡
echo "ğŸ”¹ Starting cloud-gateway..."
java -jar /workspaces/elmcode/elmcloud/gateway-server14000/target/*.jar &

# å¯åŠ¨å‰ç«¯é¡¹ç›®
echo "ğŸ”¹ Starting frontend..."
cd /workspaces/elmcode/elmclient
npm install
npm run serve &

# é˜²æ­¢å®¹å™¨é€€å‡º
tail -f /dev/null
